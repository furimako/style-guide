<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic&display=swap" rel="stylesheet">

    <title>CV</title>
    <style>
        * {
            font-family: "Zen Maru Gothic", serif;
            font-weight: 400;
            font-style: normal;
        }

        /* カラーテーマ */
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #18bc9c;
            --text-color: #2c3e50;
            --background-color: #ecf0f1;
            --error-color: #e74c3c;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
        }

        h1, h2 {
            color: var(--primary-color);
            text-align: center;
        }

        form {
            max-width: 800px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        .section {
            margin-bottom: 30px;
        }

        .section h2 {
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        input[type="text"],
        input[type="date"],
        input[type="email"],
        input[type="number"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            margin-bottom: 15px;
            font-size: 16px;
            box-sizing: border-box;
        }

        input[type="radio"] {
            margin-right: 5px;
        }

        .radio-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .radio-group label {
            margin-right: 20px;
            font-weight: normal;
        }

        .entry {
            position: relative;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ecf0f1;
        }

        .remove-button {
            position: absolute;
            right: 0;
            top: 0;
            cursor: pointer;
            color: var(--error-color);
            font-weight: bold;
            font-size: 16px;
        }

        .add-button {
            background-color: var(--secondary-color);
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 4px;
            margin-top: 10px;
        }

        .add-button:hover {
            background-color: #1abc9c;
        }

        button[type="submit"],
        .auto-fill-button {
            background-color: var(--primary-color);
            color: #fff;
            border: none;
            padding: 15px 30px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 4px;
            display: block;
            margin: 20px auto;
        }

        button[type="submit"]:hover,
        .auto-fill-button:hover {
            background-color: #34495e;
        }
    </style>
</head>
<body>
    <h1>履歴書フォーム</h1>
    <!-- 自動入力ボタンを追加 -->
    <button type="button" class="auto-fill-button" id="auto-fill-button">自動入力</button>
    <form action="https://app-cyggkfiv6q-uc.a.run.app/create-japanese-resume" method="POST">
        <!-- 個人情報 -->
        <div class="section">
            <h2>個人情報</h2>
            <label for="current_date">作成日</label>
            <input type="date" name="current_date" id="current_date" required>

            <label for="name_kanji">氏名（漢字）</label>
            <input type="text" name="name_kanji" id="name_kanji" required>

            <label for="name_kana">氏名（かな）</label>
            <input type="text" name="name_kana" id="name_kana" required>

            <label for="birth_date">生年月日</label>
            <input type="date" name="birth_date" id="birth_date" required>

            <div class="radio-group">
                <label>性別</label>
                <input type="radio" name="is_male" value="true" id="male" required><label for="male">男</label>
                <input type="radio" name="is_male" value="false" id="female"><label for="female">女</label>
            </div>

            <label for="postal_code">郵便番号</label>
            <input type="text" name="postal_code" id="postal_code" required>

            <label for="address_kanji">住所（漢字）</label>
            <input type="text" name="address_kanji" id="address_kanji" required>

            <label for="address_kana">住所（かな）</label>
            <input type="text" name="address_kana" id="address_kana" required>

            <label for="phone_home">自宅電話番号</label>
            <input type="text" name="phone_home" id="phone_home">

            <label for="phone_mobile">携帯電話番号</label>
            <input type="text" name="phone_mobile" id="phone_mobile" required>

            <label for="fax">FAX</label>
            <input type="text" name="fax" id="fax">

            <label for="email">Eメール</label>
            <input type="email" name="email" id="email" required>
        </div>

        <!-- 学歴 -->
        <div class="section">
            <h2>学歴</h2>
            <div id="education">
                <!-- 学歴項目がここに追加されます -->
            </div>
            <button type="button" class="add-button" id="add-education">学歴を追加</button>
        </div>

        <!-- 職歴 -->
        <div class="section">
            <h2>職歴</h2>
            <div id="work">
                <!-- 職歴項目がここに追加されます -->
            </div>
            <button type="button" class="add-button" id="add-work">職歴を追加</button>
        </div>

        <!-- 免許・資格 -->
        <div class="section">
            <h2>免許・資格</h2>
            <div id="licenses">
                <!-- 免許・資格項目がここに追加されます -->
            </div>
            <button type="button" class="add-button" id="add-license">免許・資格を追加</button>
        </div>

        <!-- 志望動機 -->
        <div class="section">
            <h2>志望動機</h2>
            <div id="motivations">
                <!-- 志望動機項目がここに追加されます -->
            </div>
            <button type="button" class="add-button" id="add-motivation">志望動機を追加</button>
        </div>

        <!-- 自己PR -->
        <div class="section">
            <h2>自己PR</h2>
            <div id="self_pr">
                <!-- 自己PR項目がここに追加されます -->
            </div>
            <button type="button" class="add-button" id="add-self-pr">自己PRを追加</button>
        </div>

        <!-- その他情報 -->
        <div class="section">
            <h2>その他情報</h2>
            <label for="commute_time">通勤時間</label>
            <input type="text" name="commute_time" id="commute_time" required>

            <label for="dependents">扶養家族（配偶者を除く）</label>
            <input type="number" name="dependents" id="dependents" min="0" required>

            <div class="radio-group">
                <label>配偶者</label>
                <input type="radio" name="has_spouse" value="true" id="spouse-yes" required><label for="spouse-yes">有</label>
                <input type="radio" name="has_spouse" value="false" id="spouse-no"><label for="spouse-no">無</label>
            </div>

            <div class="radio-group">
                <label>配偶者の扶養義務</label>
                <input type="radio" name="spouse_dependents" value="true" id="spouse-dependents-yes" required><label for="spouse-dependents-yes">有</label>
                <input type="radio" name="spouse_dependents" value="false" id="spouse-dependents-no"><label for="spouse-dependents-no">無</label>
            </div>
        </div>

        <!-- 本人希望記入欄 -->
        <div class="section">
            <h2>本人希望記入欄</h2>
            <div id="requests">
                <!-- 本人希望項目がここに追加されます -->
            </div>
            <button type="button" class="add-button" id="add-request">希望を追加</button>
        </div>

        <button type="submit">履歴書を作成</button>
    </form>

    <script>
        // サンプルデータ
        const sampleData = {
            current_date: '2023-10-28',
            name_kanji: '山田 太郎',
            name_kana: 'やまだ たろう',
            birth_date: '1990-01-01',
            is_male: 'true',
            postal_code: '123-4567',
            address_kanji: '東京都新宿区西新宿2-8-1',
            address_kana: 'とうきょうとしんじゅくくにししんじゅく2-8-1',
            phone_home: '03-1234-5678',
            phone_mobile: '090-1234-5678',
            fax: '03-8765-4321',
            email: 'taro.yamada@example.com',
            commute_time: '30分',
            dependents: '0',
            has_spouse: 'false',
            spouse_dependents: 'false',
            education_history: [
                { year: '2008', month: '3', description: '東京都立西高校 卒業' },
                { year: '2008', month: '4', description: '東京大学 工学部 入学' },
                { year: '2012', month: '3', description: '東京大学 工学部 卒業' }
            ],
            work_history: [
                { year: '2012', month: '4', description: '株式会社ABC 入社' },
                { year: '2018', month: '3', description: '株式会社ABC 退社' },
                { year: '2018', month: '4', description: '株式会社XYZ 入社' }
            ],
            licenses: [
                { year: '2010', month: '6', description: '普通自動車免許 取得' },
                { year: '2015', month: '11', description: 'TOEIC 900点 取得' }
            ],
            motivations: [
                '御社の事業に貢献したいと考えています。'
            ],
            self_pr: [
                'リーダーシップとチームワークに自信があります。'
            ],
            requests: [
                '給与は現職水準を希望します。'
            ]
        };

        // 自動入力機能
        document.getElementById('auto-fill-button').addEventListener('click', function() {
            document.getElementById('current_date').value = sampleData.current_date;
            document.getElementById('name_kanji').value = sampleData.name_kanji;
            document.getElementById('name_kana').value = sampleData.name_kana;
            document.getElementById('birth_date').value = sampleData.birth_date;
            if(sampleData.is_male === 'true') {
                document.getElementById('male').checked = true;
            } else {
                document.getElementById('female').checked = true;
            }
            document.getElementById('postal_code').value = sampleData.postal_code;
            document.getElementById('address_kanji').value = sampleData.address_kanji;
            document.getElementById('address_kana').value = sampleData.address_kana;
            document.getElementById('phone_home').value = sampleData.phone_home;
            document.getElementById('phone_mobile').value = sampleData.phone_mobile;
            document.getElementById('fax').value = sampleData.fax;
            document.getElementById('email').value = sampleData.email;
            document.getElementById('commute_time').value = sampleData.commute_time;
            document.getElementById('dependents').value = sampleData.dependents;
            if(sampleData.has_spouse === 'true') {
                document.getElementById('spouse-yes').checked = true;
            } else {
                document.getElementById('spouse-no').checked = true;
            }
            if(sampleData.spouse_dependents === 'true') {
                document.getElementById('spouse-dependents-yes').checked = true;
            } else {
                document.getElementById('spouse-dependents-no').checked = true;
            }

            // 学歴の自動入力
            const educationDiv = document.getElementById('education');
            educationDiv.innerHTML = '';
            educationIndex = 0;
            sampleData.education_history.forEach((item) => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'entry';
                entryDiv.innerHTML = `
                    <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                    <label>年</label>
                    <input type="number" name="education_history[${educationIndex}][year]" value="${item.year}" required>
                    <label>月</label>
                    <input type="number" name="education_history[${educationIndex}][month]" value="${item.month}" required>
                    <label>内容</label>
                    <input type="text" name="education_history[${educationIndex}][description]" value="${item.description}" required>
                `;
                educationDiv.appendChild(entryDiv);
                educationIndex++;
            });

            // 職歴の自動入力
            const workDiv = document.getElementById('work');
            workDiv.innerHTML = '';
            workIndex = 0;
            sampleData.work_history.forEach((item) => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'entry';
                entryDiv.innerHTML = `
                    <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                    <label>年</label>
                    <input type="number" name="work_history[${workIndex}][year]" value="${item.year}" required>
                    <label>月</label>
                    <input type="number" name="work_history[${workIndex}][month]" value="${item.month}" required>
                    <label>内容</label>
                    <input type="text" name="work_history[${workIndex}][description]" value="${item.description}" required>
                `;
                workDiv.appendChild(entryDiv);
                workIndex++;
            });

            // 免許・資格の自動入力
            const licensesDiv = document.getElementById('licenses');
            licensesDiv.innerHTML = '';
            licenseIndex = 0;
            sampleData.licenses.forEach((item) => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'entry';
                entryDiv.innerHTML = `
                    <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                    <label>年</label>
                    <input type="number" name="licenses[${licenseIndex}][year]" value="${item.year}" required>
                    <label>月</label>
                    <input type="number" name="licenses[${licenseIndex}][month]" value="${item.month}" required>
                    <label>内容</label>
                    <input type="text" name="licenses[${licenseIndex}][description]" value="${item.description}" required>
                `;
                licensesDiv.appendChild(entryDiv);
                licenseIndex++;
            });

            // 志望動機の自動入力
            const motivationsDiv = document.getElementById('motivations');
            motivationsDiv.innerHTML = '';
            sampleData.motivations.forEach((item) => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'entry';
                entryDiv.innerHTML = `
                    <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                    <label>志望動機</label>
                    <textarea name="motivations[]" rows="3" required>${item}</textarea>
                `;
                motivationsDiv.appendChild(entryDiv);
            });

            // 自己PRの自動入力
            const selfPrDiv = document.getElementById('self_pr');
            selfPrDiv.innerHTML = '';
            sampleData.self_pr.forEach((item) => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'entry';
                entryDiv.innerHTML = `
                    <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                    <label>自己PR</label>
                    <textarea name="self_pr[]" rows="3" required>${item}</textarea>
                `;
                selfPrDiv.appendChild(entryDiv);
            });

            // 本人希望記入欄の自動入力
            const requestsDiv = document.getElementById('requests');
            requestsDiv.innerHTML = '';
            sampleData.requests.forEach((item) => {
                const entryDiv = document.createElement('div');
                entryDiv.className = 'entry';
                entryDiv.innerHTML = `
                    <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                    <label>希望</label>
                    <textarea name="requests[]" rows="3" required>${item}</textarea>
                `;
                requestsDiv.appendChild(entryDiv);
            });
        });

        // 学歴の追加・削除
        let educationIndex = 0;
        document.getElementById('add-education').addEventListener('click', function() {
            const educationDiv = document.getElementById('education');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'entry';
            entryDiv.innerHTML = `
                <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                <label>年</label>
                <input type="number" name="education_history[${educationIndex}][year]" required>
                <label>月</label>
                <input type="number" name="education_history[${educationIndex}][month]" required>
                <label>内容</label>
                <input type="text" name="education_history[${educationIndex}][description]" required>
            `;
            educationDiv.appendChild(entryDiv);
            educationIndex++;
        });

        // 職歴の追加・削除
        let workIndex = 0;
        document.getElementById('add-work').addEventListener('click', function() {
            const workDiv = document.getElementById('work');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'entry';
            entryDiv.innerHTML = `
                <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                <label>年</label>
                <input type="number" name="work_history[${workIndex}][year]" required>
                <label>月</label>
                <input type="number" name="work_history[${workIndex}][month]" required>
                <label>内容</label>
                <input type="text" name="work_history[${workIndex}][description]" required>
            `;
            workDiv.appendChild(entryDiv);
            workIndex++;
        });

        // 免許・資格の追加・削除
        let licenseIndex = 0;
        document.getElementById('add-license').addEventListener('click', function() {
            const licensesDiv = document.getElementById('licenses');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'entry';
            entryDiv.innerHTML = `
                <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                <label>年</label>
                <input type="number" name="licenses[${licenseIndex}][year]" required>
                <label>月</label>
                <input type="number" name="licenses[${licenseIndex}][month]" required>
                <label>内容</label>
                <input type="text" name="licenses[${licenseIndex}][description]" required>
            `;
            licensesDiv.appendChild(entryDiv);
            licenseIndex++;
        });

        // 志望動機の追加・削除
        document.getElementById('add-motivation').addEventListener('click', function() {
            const motivationsDiv = document.getElementById('motivations');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'entry';
            entryDiv.innerHTML = `
                <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                <label>志望動機</label>
                <textarea name="motivations[]" rows="3" required></textarea>
            `;
            motivationsDiv.appendChild(entryDiv);
        });

        // 自己PRの追加・削除
        document.getElementById('add-self-pr').addEventListener('click', function() {
            const selfPrDiv = document.getElementById('self_pr');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'entry';
            entryDiv.innerHTML = `
                <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                <label>自己PR</label>
                <textarea name="self_pr[]" rows="3" required></textarea>
            `;
            selfPrDiv.appendChild(entryDiv);
        });

        // 本人希望記入欄の追加・削除
        document.getElementById('add-request').addEventListener('click', function() {
            const requestsDiv = document.getElementById('requests');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'entry';
            entryDiv.innerHTML = `
                <span class="remove-button" onclick="this.parentElement.remove();">×</span>
                <label>希望</label>
                <textarea name="requests[]" rows="3" required></textarea>
            `;
            requestsDiv.appendChild(entryDiv);
        });
    </script>
</body>
</html>
